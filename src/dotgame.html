
<html>
<H1>The Dot Game</H1>
<canvas id="cvs" style="
    background: #EEEEEE;
    border: 1px solid #303841;
    border-radius: 15px;
    height: 400px;
    margin: 20px 20px;
    overflow: hidden;
    width: 400px;

    /* this fixes the overflow:hidden in Chrome/Opera */
    -webkit-mask-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYGBgAAgwAAAEAAGbA+oJAAAAAElFTkSuQmCC);
  "></canvas>

  <script>
    var c = document.getElementById("cvs");
    var ctx = c.getContext("2d");
    
    c.width = 400;
    c.height = 400;

    var ax = [];
    var ay = [];
    var aw = [];
    var adir = [];
    var ahp = [];

    var player = {
      x: 200,
      y: 200,
      RotVel: 0,
      Rot: 0
    }
    start();

    function start(){
      makeEnemy();
    }

    function triangle(x, y, r, w, h) {//draws a triangle
      ctx.save(); // Save the current canvas state

      // Translate the origin to the center of the triangle
      ctx.translate(x, y);

      // Rotate the canvas by the given angle (in radians)
      ctx.rotate(Math.PI / r);

      // Draw the triangle
      ctx.beginPath();
      ctx.moveTo(-w / 2, -h / 2);
      ctx.lineTo(w / 2, -h / 2);
      ctx.lineTo(0, h / 2);
      ctx.closePath();

      // Fill and stroke the triangle
      ctx.fillStyle = '#3A4750';
      ctx.fill();

      ctx.restore(); // Restore the previous canvas state
    }//this was stolen from chat gpt ^

    function circle(x,y,w,count){
      w = w/2;
      ctx.beginPath();
      ctx.arc(x, y, w, 0, 2 * Math.PI, false);
      ctx.fillStyle = '#3A4750';
      ctx.fill();
      ctx.lineWidth = 5;
      ctx.strokeStyle = '#3A4750';
      ctx.stroke();
    }

    function makeEnemy(){
      for(var asteroidsCount; asteroidsCount < 10; asteroidsCount++){
        var bigasteroids = Math.random(5,10);


        if(asteroidsCount < 10 && asteroidsCount != bigasteroids){
          aw.push(50);
          ahp.push(20);
          ax.push(canvas.width / 2 + radius * Math.cos(Math.random() * 2 * Math.PI));
          ay.push(canvas.height / 2 + radius * Math.sin(Math.random() * 2 * Math.PI));
          }else{
            aw.push(100);
            ahp.push(40);
            ax.push(canvas.width / 2 + radius * Math.cos(Math.random() * 2 * Math.PI));
            ay.push(canvas.height / 2 + radius * Math.sin(Math.random() * 2 * Math.PI));
          }

        circle(ax[asteroidsCount],//asteroidsX
                  ay[asteroidsCount],//asteroidsY
                  aw[asteroidsCount],//asteroidsWidth
                  asteroidsCount);
                  
        console.log(asteroidsCount);
      }
    }

    function draw(){//put graphics on to screen(updated every frame)
    triangle(player.x, player.y, player.Rot, 50, 50);//draws the player at the given inputs
      for(var i; i < asteroidsCount; i++){
        circle(ax[asteroidsCount],//asteroidsX
                  ay[asteroidsCount],//asteroidsY
                  aw[asteroidsCount],//asteroidsWidth
                  asteroidsCount);
      }
    }

    function update() {
        for (var i = 0; i < ax.length; i++) {
          var dx = player.x - ax[i];//distance to playerX
          var dy = player.y - ay[i];//distance to PlayerY
          var angle = Math.atan2(dy, dx);//calculates angle
          adir[i] = angle;

          if(aw[i] = 100){var speed = 1;}else if(aw[i] = 50){var speed = 2;}; // Adjust the asteroid speed based on the size
          ax[i] += Math.cos(adir[i]) * speed;
          ay[i] += Math.sin(adir[i]) * speed;
        }
      }

    function Playermove(e){//get key inputs and move the player accordingly

    }
    



    window.requestAnimationFrame(loop);

    function loop() {//... its in the name
    ctx.clearRect(0, 0, c.width, c.height);//clears screen
    update();
    draw();
    window.requestAnimationFrame(loop);//makes it a loop
    }
    //https://colorhunt.co/palette/3038413a475000adb5eeeeee
  </script>
</html>
